!function(t){"use strict";t.fn.modalSteps=function(a){var e=this,n=t.extend({btnCancelHtml:"Cancel",btnPreviousHtml:"Previous",btnNextHtml:"Next",btnLastStepHtml:"Complete",disableNextButton:!1,completeCallback:function(){},callbacks:{}},a),s=function(){var t=n.callbacks["*"];if(void 0!==t&&"function"!=typeof t)throw"everyStepCallback is not a function! I need a function";if("function"!=typeof n.completeCallback)throw"completeCallback is not a function! I need a function";for(var a in n.callbacks)if(n.callbacks.hasOwnProperty(a)){var e=n.callbacks[a];if("*"!==a&&void 0!==e&&"function"!=typeof e)throw"Step "+a+" callback must be a function"}},d=function(t){return void 0!==t&&"function"==typeof t&&(t(),!0)};return e.on("show.bs.modal",function(){var a,i,l,o,p,r=e.find(".modal-footer"),c=r.find(".js-btn-step[data-orientation=cancel]"),b=r.find(".js-btn-step[data-orientation=previous]"),f=r.find(".js-btn-step[data-orientation=next]"),u=n.callbacks["*"],m=n.callbacks[1];n.disableNextButton&&f.attr("disabled","disabled"),b.attr("disabled","disabled"),s(),d(u),d(m),c.html(n.btnCancelHtml),b.html(n.btnPreviousHtml),f.html(n.btnNextHtml),i=t("<input>").attr({type:"hidden",id:"actual-step",value:"1"}),e.find("#actual-step").remove(),e.append(i),a=1,p=a+1,e.find("[data-step="+a+"]").removeClass("hide"),f.attr("data-step",p),l=e.find("[data-step="+a+"]").data("title"),o=t("<span>").addClass("label label-success").html(a),e.find(".js-title-step").append(o).append(" "+l)}).on("hidden.bs.modal",function(){var t=e.find("#actual-step"),a=e.find(".js-btn-step[data-orientation=next]");e.find("[data-step]").not(e.find(".js-btn-step")).addClass("hide"),t.not(e.find(".js-btn-step")).remove(),a.attr("data-step",1).html(n.btnNextHtml),e.find(".js-title-step").html("")}),e.find(".js-btn-step").on("click",function(){var a,s,i,l,o=t(this),p=e.find("#actual-step"),r=e.find(".js-btn-step[data-orientation=previous]"),c=e.find(".js-btn-step[data-orientation=next]"),b=e.find(".js-title-step"),f=o.data("orientation"),u=parseInt(p.val()),m=n.callbacks["*"];if(a=e.find("div[data-step]").length,"complete"===o.attr("data-step"))return n.completeCallback(),void e.modal("hide");if("next"===f)s=u+1,r.attr("data-step",u),p.val(s);else{if("previous"!==f)return void e.modal("hide");s=u-1,c.attr("data-step",u),r.attr("data-step",s-1),p.val(u-1)}parseInt(p.val())===a?c.attr("data-step","complete").html(n.btnLastStepHtml):c.attr("data-step",s).html(n.btnNextHtml),n.disableNextButton&&c.attr("disabled","disabled"),e.find("[data-step="+u+"]").not(e.find(".js-btn-step")).addClass("hide"),e.find("[data-step="+s+"]").not(e.find(".js-btn-step")).removeClass("hide"),parseInt(r.attr("data-step"))>0?r.removeAttr("disabled"):r.attr("disabled","disabled"),"previous"===f&&c.removeAttr("disabled"),i=e.find("[data-step="+s+"]"),i.attr("data-unlock-continue")&&c.removeAttr("disabled"),l=i.attr("data-title");var v=t("<span>").addClass("label label-success").html(s);b.html(v).append(" "+l);var h=n.callbacks[p.val()];d(m),d(h)}),this}}(jQuery);